<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Leonidas Simopoulos&#39;s blog</title>
        <meta name="author">
        <meta name="description" content="As I set out for programming,I hope the voyage is a long one, full of adventure, full of discovery. ">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.24.1" />
        <link href="https://lsimopoulos.github.io/post/index.xml" rel="alternate" type="application/rss+xml" title="Leonidas Simopoulos&#39;s blog" />
        <link href="https://lsimopoulos.github.io/post/index.xml" rel="feed" type="application/rss+xml" title="Leonidas Simopoulos&#39;s blog" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://lsimopoulos.github.io/css/styles.css">
        <link rel="icon" href="https://lsimopoulos.github.io/favicon.ico">
        <link rel="apple-touch-icon" href="https://lsimopoulos.github.io/apple-touch-icon.png" />
        <link rel="stylesheet" href="https://lsimopoulos.github.io/css/highlightjs/monokai.css">
        <script src="https://lsimopoulos.github.io/js/vendor/modernizr-2.8.0.min.js"></script>
        
        <style>
        .site-header h2 .logo {
        background: url(https://lsimopoulos.github.io/img/desk.jpg) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(https://lsimopoulos.github.io/img/desk.jpg);
        }}
       .site-header {
         background: #2a373d url(https://lsimopoulos.github.io/img/desk.jpg) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2>My odyssey into programming</h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="https://lsimopoulos.github.io/" title="">&laquo; </a>
            
<h1><a href="https://lsimopoulos.github.io/post/mvvm_supervising_controller_pattern/" title="Supervising controller pattern and MVVM">Supervising controller pattern and MVVM</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2017.06.26">2017.06.26</time>

    &middot; 
        
        <a href="https://lsimopoulos.github.io/tags/mvvm">mvvm</a>, 
        
        <a href="https://lsimopoulos.github.io/tags/wpf">wpf</a>, 
        
        <a href="https://lsimopoulos.github.io/tags/uwp">uwp</a>
        
    

</span>
</footer>

            <p>I have been familiar with MVVM framework since the era of Silverlight. Since then I am always try to follow the approach clean code behind when it&rsquo;s achievable.
One of the big benefits of MVVM is that ,except of the separation of concern, you can make unit tests covering all the logic in the ViewModels.</p>

<p>When using the MVVM pattern sometimes you encounter some challenges. Some functions need to be defined on the code behind which are tight coupled with GUI and include some logic.
In these cases  you need to try to separate the logic from the code behind and move the it to the VM.</p>

<p>Martin Fowler introduced the design pattern called <a href="https://martinfowler.com/eaaDev/SupervisingPresenter.html">Supervising Controller</a>.</p>

<p>&ldquo;Factor the UI into a view and controller where the view handles simple mapping to the underlying model and the the controller handles input response and complex view logic.&rdquo;</p>

<p>I am going to present  how can you implement the Supervising Controller pattern on MVVM and tackle the aforementioned challenges.</p>

<ul>
<li>First create an interface  <code>IInterface.cs</code></li>
</ul>

<pre><code>public interface IInterface
{
    void DoSomething();
}
</code></pre>

<ul>
<li>In the code behind of the view :</li>
</ul>

<pre><code>public partial class View : UserControl, IInterface
{
    public View()
    {
        ((ViewModel)DataContext).View = this as IInterface;
    }
    
    public void DoSomething()
    {
        //implement the gui related functionality here
    }
}
</code></pre>

<ul>
<li>In the viewmodel :</li>
</ul>

<pre><code>
public IInterface View
{
    get; set;
}

//You can invoke the method of View from VM
// and implement the logic here
public void DoSomething()
{
    if (View == null) return;
        View.DoSomething();
    //implement the logic here
}
</code></pre>

<p><strong><em>Conclusion</em></strong></p>

<p>By applying this design pattern , the logic ,that is tightly coupled with the functionality on the code behind(Probably an event), can be targeted by unit test now and have the logic on the ViewModel. This can be handy at specific cases but of course this should not be applied for every case.
 The disadvantage is that this implementation violates the &ldquo;rule&rdquo; : the View should not be aware of the ViewModel and vice versa.</p>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2flsimopoulos.github.io%2fpost%2fmvvm_supervising_controller_pattern%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Supervising%20controller%20pattern%20and%20MVVM&amp;url=https%3a%2f%2flsimopoulos.github.io%2fpost%2fmvvm_supervising_controller_pattern%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=https%3a%2f%2flsimopoulos.github.io%2fpost%2fmvvm_supervising_controller_pattern%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2flsimopoulos.github.io%2fpost%2fmvvm_supervising_controller_pattern%2f&title=Supervising%20controller%20pattern%20and%20MVVM" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        <div class="comments">
            <h3></h3>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'lsimopoulos';
    var disqus_identifier = 'https:\/\/lsimopoulos.github.io\/post\/mvvm_supervising_controller_pattern\/';
    var disqus_title = 'Supervising controller pattern and MVVM';
    var disqus_url = 'https:\/\/lsimopoulos.github.io\/post\/mvvm_supervising_controller_pattern\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </main>
    <aside class="author">
  <img class="profile-image" src="https://lsimopoulos.github.io/img/profile-image.jpg" alt="Leonidas Simopoulos" />
  <p class="name"> 
  <strong>Leonidas Simopoulos</strong></p>
  <p class="address">Sweden</p>
  <p class="link"></p>
  <ul class="social">
    
<li><a href="//twitter.com/leonsim83" class="icon-twitter" target="_blank" title="Twitter"></a></li>





<li><a href="//linkedin.com/in/leonidassimopoulos" class="icon-linkedin" target="_blank" title="Linkedin"></a></li>









<li><a href="//github.com/lsimopoulos" class="icon-github" target="_blank" title="Github"></a></li>



<li><a href="//plus.google.com/+https://plus.google.com/u/0/111373413352934032664" class="icon-gplus" target="_blank" title="Google+"></a></li>


<li><a href="https://lsimopoulos.github.io/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="https://lsimopoulos.github.io/post/index.xml" title="RSS"></a>
        <p>&copy; 2017 &middot; Powered by <a href="http://gohugo.io">Hugo</a>.</p>
  </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="https:\/\/lsimopoulos.github.io\/js\/vendor\/jquery-1.11.0.min.js"><\/script>')</script>
<script src="https://lsimopoulos.github.io/js/plugins.js"></script>




<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-61788978-2', 'auto');
ga('send', 'pageview');
</script>

</body>
</html>

